#!/bin/sh
#  -*-Perl-*-
#======================================================================#
# Run the right perl version:
if [ -x /usr/local/bin/perl ]; then
  perl=/usr/local/bin/perl
elif [ -x /usr/bin/perl ]; then
  perl=/usr/bin/perl
else
  perl=`which perl| sed 's/.*aliased to *//'`
fi

exec $perl -x -S $0 "$@"     # -x: start from the following line
#======================================================================#

# Name:   cleanCVSup
# Author: Tony Mee (A.J.Mee@ncl.ac.uk)
# Date:   19-Nov-2002
# CVS: $Id: cleanCVSup,v 1.1 2002-11-21 15:31:05 mee Exp $
# Description:
#   Read standard input (piped from cvs with cvs up -dP| 
#  
#   Strip all the "cvs server: Updating" lines which stop me seeing
#   what has changed
# Usage:
#   cvs up -dP | cleanf95


$| = 1;         # auto-flush output
while(<STDIN>)
{
  next if /^cvs\s(server)\:\s+(Updating)\s+\S*\s*$/;
#  next if /^M\s[\S\s]*$/;
#  next if /^\?\s[\S\s]*$/;
#  next if /^U\s[\S\s]*$/;
  next if /^\s*$/;
 
  print STDERR $_;    
}
