
                           ifort-spread-spread
                          ---------------------

$Id: README,v 1.3 2004-04-28 12:55:27 dobler Exp $


1. Symptoms:

The three short F90 programs should print

    spread-tmp.x
     spread-tmp: Starting
     spread-tmp: <f> =    1.000000    
     spread-tmp: Done.
     
    spread_255.x
     spread_255: Starting
     spread_255: <f> =    1.000000    
     spread_255: Done.
     
    spread_256.x
     spread_256: Starting
     spread_256: <f> =    1.000000    
     spread_256: Done.
 
However, with ifort (Intel Fortran compiler, version 8.0), one gets

    spread-tmp.x
     spread-tmp: Starting
     spread-tmp: <f> =    1.000000    
     spread-tmp: Done.
     
    spread_255.x
     spread_255: Starting
     spread_255: <f> =    1.000000    
     spread_255: Done.
     
    spread_256.x
     spread_256: Starting
    forrtl: severe (174): SIGSEGV, segmentation fault occurred
    Image              PC        Routine            Line        Source
    spread_256.x       08049E73  Unknown               Unknown  Unknown
    spread_256.x       0804A078  Unknown               Unknown  Unknown
    spread_256.x       400A89ED  Unknown               Unknown  Unknown
    spread_256.x       08049C61  Unknown               Unknown  Unknown

2. Command sequence:

  kabul>  make FC=ifort test
or
  fe4>  make FC=ifort80 NLSPATH=/usr/local/lib/intel/intel_fc_80/lib/ifcore_msg.cat test
or
  fe4>  set ifort=/people/disk2/theine/compilers/ifort
  fe4>  make FC=$ifort/bin/ifortbin INTEL_LICENSE_FILE=$ifort/licenses/ NLSPATH=$ifort/lib/ifcore_msg.cat test
or
  nw43>  set ifort=/home/ajohan/.intel/ifc/compiler80
  nw43>  make FC=$ifort/bin/ifortbin INTEL_LICENSE_FILE=$ifort/licenses/ LD_LIBRARY_PATH=$ifort/lib NLSPATH=$ifort/lib/ifcore_msg.cat test

(or similar)

3. Platforms:
   SuSE   8.0, Kernel 2.4.18-4GB-SMP, dual AMD Athlon MP 1900+, 1.6  GHz
       ifort 8.0, Build 20031016Z, Package ID: l_fc_p_8.0.034   
   RedHat 9.0, Kernel 2.4.20-28.9smp, dual Pentium III,         0.93 GHz
       ifort 8.0, Build 20031016Z
   Debian 3.0, Kernel 2.4.26,              Pentium 4,           2.0  Ghz
       ifort 8.0, Build 20031016Z
   and ifort 8.0, Build 20040318Z, Package ID: l_fc_pc_8.0.039_pe044.1

4. Other compilers tested (OPK means problem could not be reproduced):
   - Intel ifc 6.0 (Linux)  OK
   - Intel ifc 7.1 (Linux)  OK

5. Workaround:
   Replace stacked spread(spread()) call by two consecutive calls using an
   explicit temporary (as demonstrated by spread-tmp.f90)

6. Original date:

  Wed Apr 28 11:47:52 CEST 2004
