#!/bin/csh
#
#  $Id: mkdatadir,v 1.10 2003-03-03 18:58:39 mattias Exp $
#
#  This script generates a link to a data directory
#  with the same name as the current working directory
#  but that is located on a data disk. The name of the
#  desired data disk will be different and different
#  machine, so you may need to add your particular
#  machine name below
#
echo $cwd >! .tmp
#
#  in the following if block one can add more machines
#  where workspace can be allocated.
#
set hn = `hostname`
echo "we are on" $hn ", the new workspace will be"
if ($hn =~ mhd*.st-and.ac.uk) then
  set str='s/home/work2/g'
else if ($hn =~ fe*) then
  set str='s/home/wkspace/g'
else if ($hn =~ sander*) then
  set str='s/astro/scratch1\/astro/g'
else if ($hn =~ nq*) then
  set str='s/home/nq1\/data/g'
else if ($hn =~ nl0) then
  set str='s/home\/mattias\/pencil-code\/runs/var\/tmp/g'
else if ($hn =~ nl3) then
  set str='s/home/scr/g'
else if ($hn =~ embla) then
  set str='s/home\/u./work/g'
else if ($hn =~ gridur) then
  set str='s/home\/u./work/g'
else if ($hn =~ nw*) then
  set str='s/home/data/g'
else
  set str='s/home/var\/tmp/g'
endif
#echo $str
#
sed -e $str .tmp >! .scr
cat .scr
mkdir -p `cat .scr`
ln -s `cat .scr` data
