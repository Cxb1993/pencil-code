#!/bin/csh
# CVS: $Id: pc_svn_add_rundir,v 1.1 2006-09-18 15:46:48 joishi Exp $

# Name:   svn-add-rundir
# Author: joishi (joishi@amnh.org) (modified from W. Dobler's cvs-add-rundir)
# Date:   23-may-2006
# Description:
#   Add the current run directory to a SVN repository. Assumes that the
#   directory above (`..') is already under SVN.
# Usage:
#   [create new run directory; setup-src; mkinpars; tune parameters]
#   newrundir>  cvs-add-rundir
set rundir = `pwd`
set commit = 0
set cmdname = $0
set cmdname = $cmdname:t

if ($#argv > 0) then
  if (("$1" == "-h") || ("$1" == "--help")) then
    goto usage
  endif
  if (("$1" == "-c") || ("$1" == "--commit")) then
    set commit = 1
  endif
endif

(cd ..; svn add $rundir:t)
svn add *.in
svn add -N src
svn propset svn:keywords "Id" *.in

svn add src/*.local
svn propset svn:keywords "Id" src/*.local

if ($commit) then
  svn commit
endif

exit:
exit

usage:

echo "Usage:"
echo "  $cmdname [-c|--commit]"
echo "Add the current run directory to the SVN repository. Assumes that the"
echo "directory above (..) is already under SVN."
echo "With -c (--commit) do 'svn commit', too."

# End of file svn-add-rundir
