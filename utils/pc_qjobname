#!/usr/bin/perl
##
## $Id: pc_qjobname,v 1.1 2005-08-07 10:26:48 ajohan Exp $
##
$host = `hostname`;
#
# Go through list of hosts to use proper method.
#
if ($host == /fe[0-9]/){

  foreach $job (@ARGV){
    $a = `qstat -f $job`;
    $a =~ s/\s//g;
    $a =~ /PBS_O_WORKDIR=(.*),PBS_O_SYSTEM/;
    print "$job : $1\n";
    }

  }
elsif ($host == riologin){   # SGE

  foreach $job (@ARGV){
    $a = `qstat -j $job | grep cwd:`;
    $a =~ /(\/.*)$/;
    print "$job : $1\n";
    }

  }
