###                          -*-Makefile-*- (for Emacs)
### $Id: Makefile.depend,v 1.24 2006-07-17 11:30:02 mee Exp $
### Makefile dependencies for modular pencil code

## ---------------------------------------------------------------------- #
## Non-F90 / undetectable dependencies
## ---------------------------------------------------------------------- #
#
fft.o:	     fft.f Makefile.src
$(FFTPACK).o:   $(FFTPACK).f Makefile.src Makefile.local
#fft_nr.o:    fft_nr.f90
$(MPICOMM_FIX).o:         $(FFT).o 
$(MAGNETIC).o:        $(FFT).o
$(FFT).o:	          cdata.o
nodebug.o:            nodebug.f90 cdata.o $(MPICOMM_FIX).o
#$(TIMEAVG).o:        ctimeavg.local
#axeltest $(INITCOND_SPEC).o:$(INITCOND_SPEC).f90

## ---------------------------------------------------------------------- #
## Automatically generatable dependencies
## ---------------------------------------------------------------------- #
start.o:     start.f90 $(start_deps)
run.o:       run.f90 $(run_deps)
$(SHOCK_FINDER).o: $(SHOCK_FINDER).f90 $(shock_finder_deps)
read_videofiles.o: read_videofiles.f90 $(read_videofiles_deps)
read_vectorfiles.o: read_vectorfiles.f90 $(read_vectorfiles_deps)
#merge_tony var2ascii.o: var2ascii.f90 $(var2ascii_deps)
#
cparam.o:    cparam.f90 cparam.local cparam.inc
cdata.o:     cdata.f90 cparam.o
$(GRID).o:   $(GRID).f90 cdata.o $(MPICOMM_FIX).o
general.o:   general.f90 cparam.o cdata.o
slices.o:    slices.f90 cdata.o sub.o $(EOS).o $(PARTICLES_MAIN).o
deriv.o:     deriv.f90 cdata.o messages.o
fft.o:	     fft.f
$(FFTPACK).o:   $(FFTPACK).f
#fft_nr.o:    fft_nr.f90
border_profiles.o:  border_profiles.f90 cdata.o
sub.o:       sub.f90 cdata.o deriv.o $(MPICOMM_FIX).o general.o
param_io.o:  param_io.f90 cdata.o $(MPICOMM_FIX).o sub.o $(TIMESTEP).o $(TIMEAVG).o $(physics) $(PARTICLES_MAIN).o
register.o:  register.f90 cdata.o $(MPICOMM_FIX).o sub.o $(IO).o param_io.o $(physics) $(TIMEAVG).o prints.o equ.o
prints.o:    prints.f90 cdata.o sub.o param_io.o $(physics)
equ.o:       equ.f90 cdata.o $(MPICOMM_FIX).o messages.o sub.o $(physics) boundcond.o $(GLOBAL).o $(PARTICLES_MAIN).o
boundcond.o: boundcond.f90 cdata.o messages.o $(MPICOMM_FIX).o $(ENTROPY).o $(MAGNETIC).o $(DENSITY).o $(RADIATION).o $(HYDRO).o
filter.o:    filter.f90 cdata.o sub.o boundcond.o
initcond.o:  initcond.f90 cdata.o $(MPICOMM_FIX).o general.o sub.o $(EOS).o
kepvor.o : kepvor.f90 cdata.o general.o
noinitcond_spec.o: noinitcond_spec.f90 cdata.o general.o
$(TIMESTEP).o:  $(TIMESTEP).f90 cdata.o $(MPICOMM_FIX).o equ.o $(FORCING).o
persist.o:    persist.f90 cdata.o general.o $(INTERSTELLAR).o $(FORCING).o
snapshot.o:    snapshot.f90 cdata.o $(MPICOMM_FIX).o $(IO).o boundcond.o $(POWER).o $(STRUCT_FUNC).o $(RADIATION).o $(EOS).o $(MAGNETIC).o persist.o $(PARTICLES_MAIN).o
messages.o:    messages.f90 cdata.o $(MPICOMM_FIX).o
#
$(MPICOMM_FIX).o:      mpicomm.h        $(MPICOMM_FIX).f90 cdata.o general.o $(FFT).o 
$(GLOBAL).o:       global.h         $(GLOBAL).f90 cdata.o messages.o $(MPICOMM_FIX).o $(IO).o sub.o
$(VISCOSITY).o:    viscosity.h      $(VISCOSITY).f90 cdata.o cparam.o $(DENSITY).o sub.o $(INTERSTELLAR).o
shock.o:           shock.h          shock.f90 shock_profile.inc cdata.o cparam.o $(DENSITY).o sub.o boundcond.o
noshock.o:         shock.h          noshock.f90 cdata.o cparam.o sub.o 
$(SHEAR).o:        shear.h          $(SHEAR).f90 $(MPICOMM_FIX).o cdata.o sub.o cparam.o $(HYDRO).o
$(GRAVITY).o:      gravity.h        $(GRAVITY).f90 cdata.o $(MPICOMM_FIX).o sub.o $(GLOBAL).o $(PLANET).o
$(SELFGRAVITY).o:  selfgravity.h $(SELFGRAVITY).f90 cdata.o sub.o $(POISSON).o $(PARTICLES_MAIN).o
$(POISSON).o:          poisson.h cdata.o sub.o
$(FORCING).o:      forcing.h        $(FORCING).f90 cdata.o $(MPICOMM_FIX).o sub.o $(HYDRO).o
$(ENTROPY).o:      entropy.h        $(ENTROPY).f90 cdata.o messages.o $(MPICOMM_FIX).o sub.o initcond.o $(INITCOND_SPEC).o $(GLOBAL).o $(VISCOSITY).o $(INTERSTELLAR).o $(EOS).o $(SPECIAL).o $(PLANET).o
$(MAGNETIC).o:     magnetic.h       $(MAGNETIC).f90 cdata.o $(MPICOMM_FIX).o sub.o $(IO).o initcond.o $(INITCOND_SPEC).o $(DENSITY).o $(FFT).o $(GRAVITY).o slices.o $(SPECIAL).o
$(RADIATION).o:    radiation.h      $(RADIATION).f90 cdata.o $(MPICOMM_FIX).o sub.o initcond.o $(INITCOND_SPEC.o) $(DENSITY).o $(EOS).o
$(HYDRO).o:        hydro.h          $(HYDRO).f90 cdata.o $(MPICOMM_FIX).o sub.o initcond.o $(INITCOND_SPEC).o $(VISCOSITY).o $(GRAVITY).o $(DENSITY).o $(MAGNETIC).o $(VISCOSITY).o slices.o $(SPECIAL).o $(COSMICRAY).o
$(DENSITY).o:      density.h        $(DENSITY).f90 cdata.o messages.o sub.o $(IO).o initcond.o $(INITCOND_SPEC).o $(GRAVITY).o $(SELFGRAVITY).o $(SPECIAL).o $(EOS).o
$(COSMICRAY).o:    cosmicray.h      $(COSMICRAY).f90 cdata.o $(MPICOMM_FIX).o sub.o initcond.o $(INITCOND_SPEC).o
$(COSMICRAYFLUX).o:    cosmicrayflux.h      $(COSMICRAYFLUX).f90 cdata.o $(MPICOMM_FIX).o sub.o initcond.o $(INITCOND_SPEC).o $(COSMICRAY).o
$(PSCALAR).o:      pscalar.h        $(PSCALAR).f90 cdata.o $(MPICOMM_FIX).o sub.o initcond.o $(INITCOND_SPEC).o $(DENSITY).o
$(CHIRAL).o:       chiral.h         $(CHIRAL).f90 cdata.o $(MPICOMM_FIX).o sub.o initcond.o $(INITCOND_SPEC).o
$(DUSTVELOCITY).o: dustvelocity.h   $(DUSTVELOCITY).f90 cdata.o $(MPICOMM_FIX).o general.o sub.o initcond.o $(INITCOND_SPEC).o $(EOS).o $(HYDRO).o $(PSCALAR).o $(GRAVITY).o
$(DUSTDENSITY).o:  dustdensity.h    $(DUSTDENSITY).f90 cdata.o $(MPICOMM_FIX).o sub.o initcond.o $(DUSTVELOCITY).o
$(TESTFIELD).o:    testfield.h      $(TESTFIELD).f90 cdata.o $(MPICOMM_FIX).o sub.o $(IO).o $(HYDRO).o initcond.o $(DENSITY).o
$(INTERSTELLAR).o: interstellar.h   $(INTERSTELLAR).f90 cdata.o $(MPICOMM_FIX).o sub.o $(INITCOND_SPEC).o $(EOS).o
$(EOS).o:          eos.h            $(EOS).f90 cdata.o $(MPICOMM_FIX).o messages.o sub.o   $(INITCOND_SPEC).o $(GRAVITY).o 
$(IO).o:           io.h             $(IO).f90 cdata.o sub.o $(MPICOMM_FIX).o general.o sub.o
#$(TIMEAVG).o:         $(TIMEAVG).f90 cdata.o sub.o $(IO).o $(MPICOMM_FIX).o ctimeavg.local
$(TIMEAVG).o:      timeavg.h        $(TIMEAVG).f90 cdata.o sub.o $(IO).o $(MPICOMM_FIX).o
$(POWER).o:        power_spectrum.h $(POWER).f90 cdata.o sub.o $(MPICOMM_FIX).o general.o
$(STRUCT_FUNC).o:  struct_func.h    $(STRUCT_FUNC).f90 cdata.o sub.o $(MPICOMM_FIX).o general.o
$(SPECIAL).o:      special.h        $(SPECIAL).f90 cdata.o $(MPICOMM_FIX).o sub.o $(INITCOND_SPEC).o $(GLOBAL).o
$(PLANET).o:       planet.h	    cdata.o sub.o general.o cparam.o $(GLOBAL).o $(MPICOMM_FIX).o particles_cdata.o

$(DEBUG).o:        debug_c.c Makefile.src Makefile.local
#
#  Particle modules
#
particles_cdata.o :    particles_cdata.f90 cdata.o
$(PARTICLES_MAIN).o:   particles_main.h $(PARTICLES).o $(PARTICLES_SUB).o $(PARTICLES_RADIUS).o $(PARTICLES_NUMBER).o $(PARTICLES_SELFGRAVITY).o cdata.o 
$(PARTICLES_SUB).o:    $(PARTICLES_SUB).f90 cdata.o particles_cdata.o $(GLOBAL).o messages.o
$(PARTICLES).o:        particles.h particles_cdata.o $(PARTICLES_SUB).o $(PARTICLES_NUMBER).o cdata.o $(MPICOMM_FIX).o sub.o $(GLOBAL).o $(POWER).o $(PLANET).o
$(PARTICLES_RADIUS).o: particles_radius.h particles_cdata.o $(PARTICLES_NUMBER).o
$(PARTICLES_NUMBER).o: particles_number.h particles_cdata.o $(PARTICLES_SUB).o
$(PARTICLES_SELFGRAVITY).o: particles_selfgravity.h particles_cdata.o $(PARTICLES_SUB).o

# DO NOT DELETE
