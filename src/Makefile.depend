##  -*-Makefile-*- (for Emacs)    vim:set filetype=make:  (for vim)
##
##  $Id$
##
##  Makefile dependencies for modular Pencil Code.
##
#
#  Non-F90 / undetectable dependencies.
#
nodebug.o: nodebug.f90 $(CDATA_OBJ) $(MPICOMM_FIX).o
#
$(DEBUG_OBJ): debug_c.c Makefile.src Makefile.local
#
$(SYSCALLS_OBJ): $(SYSCALLS)_ansi.o $(CPARAM_OBJ) Makefile.src Makefile.local
#
nogsl.o: nogsl.c
	$(CC) $(CFLAGS) -c nogsl.c
#
gsl_wrapper.o: gsl_wrapper.c
	$(CC) $(CFLAGS) -c gsl_wrapper.c
#
gsl_wrapper_r8.o: gsl_wrapper_r8.c
	$(CC) $(CFLAGS) -c gsl_wrapper_r8.c
#
$(SYSCALLS)_ansi.o: $(SYSCALLS)_ansi.c Makefile.src Makefile.local
	$(CC) $(CFLAGS) -c $(SYSCALLS)_ansi.c
#
# Explicit dependencies for the different infrastructure modules.
#
$(CPARAM_OBJ): $(CPARAM_SRC) cparam.local cparam.inc
#
$(CDATA_OBJ): $(CDATA_SRC) $(CPARAM_OBJ)
#
$(GRID_OBJ): $(GRID_SRC) $(CDATA_OBJ) $(MPICOMM_OBJ) $(MESSAGES_OBJ) sub.o
#
$(GENERAL_OBJ): $(GENERAL_SRC) $(MESSAGES_OBJ) $(CPARAM_OBJ) $(CDATA_OBJ)
#
shock.o: shock.h shock.f90 $(CDATA_OBJ) $(CPARAM_OBJ) $(SUB_OBJ) $(BOUNDCOND_OBJ) $(FARRAY_OBJ) $(INTERSTELLAR_OBJ) $(MAGNETIC_OBJ)
#
shock_highorder.o: shock.h shock_highorder.f90 $(CDATA_OBJ) $(CPARAM_OBJ) $(SUB_OBJ) $(BOUNDCOND_OBJ) $(FARRAY_OBJ)
#
noshock.o: shock.h noshock.f90 $(CDATA_OBJ) $(CPARAM_OBJ) $(SUB_OBJ) $(FARRAY_OBJ)
#
nodebug.o: nodebug.f90 $(SUB_OBJ)
#
diagnostics.o: diagnostics.f90 $(SUB_OBJ)
#
nolorenz_gauge.o: lorenz_gauge.h nolorenz_gauge.f90 $(CDATA_OBJ) $(CPARAM_OBJ) $(MESSAGES_OBJ) $(SUB_OBJ) $(FARRAY_OBJ)
#
noimplicit_physics.o: implicit_physics.h noimplicit_physics.f90 $(CDATA_OBJ) $(CPARAM_OBJ) $(MESSAGES_OBJ) $(SUB_OBJ)
#
nosignal_handling.o: nosignal_handling.f90 $(CDATA_OBJ) $(MESSAGES_OBJ) $(SUB_OBJ)
#
nopolymer.o: polymer.h nopolymer.f90 $(CDATA_OBJ) $(MESSAGES_OBJ) $(SUB_OBJ) $(MPICOMM_OBJ) $(DIAGNOSTICS_OBJ)
#
$(DERIV_OBJ): $(DERIV_SRC) $(CDATA_OBJ) $(MESSAGES_OBJ)
#
$(FARRAY_OBJ): farray.f90 $(CDATA_OBJ) $(MESSAGES_OBJ) $(GENERAL_OBJ)
#
$(SHARED_VARIABLES_OBJ): shared_variables.f90 $(MESSAGES_OBJ)
#
$(BORDER_PROFILES_OBJ): $(CDATA_OBJ) $(BORDER_PROFILES_SRC) $(SUB_OBJ)
#
$(SLICES_OBJ): $(SLICES_SRC)  $(CDATA_OBJ) $(SUB_OBJ) $(EOS_OBJ) $(PARTICLES_MAIN_OBJ) $(SHOCK_OBJ) $(INTERSTELLAR_OBJ) $(DENSITY_OBJ) $(ENTROPY_OBJ) $(PSCALAR_OBJ) $(EOS_OBJ) $(COSMICRAY_OBJ) $(DUSTDENSITY_OBJ) $(DUSTVELOCITY_OBJ) $(CHEMISTRY_OBJ) $(HYDRO_OBJ) $(RADIATION_OBJ) $(MAGNETIC_OBJ) $(SPECIAL_OBJ) $(CHIRAL_OBJ)  $(TESTSCALAR_OBJ) $(TESTFIELD_OBJ) $(TESTFLOW_OBJ)  $(GENERAL_OBJ) diagnostics.o
#
$(SUB_OBJ): sub.f90 $(CDATA_OBJ) $(MPICOMM_OBJ) $(DERIV_OBJ) $(MESSAGES_OBJ) $(GENERAL_OBJ)
#
param_io.o: param_io.f90 $(CDATA_OBJ) $(MPICOMM_OBJ) $(SUB_OBJ) $(TIMESTEP_OBJ) $(TIMEAVG_OBJ) $(physics) $(PARTICLES_MAIN_OBJ) $(TESTPERTURB_OBJ) $(SIGNAL_HANDLING_OBJ)
#
register.o: register.f90 $(CDATA_OBJ) $(MPICOMM_OBJ) $(SUB_OBJ) $(IO_OBJ) $(physics) $(TIMEAVG_OBJ) diagnostics.o equ.o $(GRID_OBJ) $(TESTPERTURB_OBJ) $(SOLID_CELLS_OBJ) $(DIAGNOSTICS_OBJ) param_io.o
#
$(EQU_OBJ): $(EQU_SRC) $(CDATA_OBJ) $(MPICOMM_OBJ) $(GHOSTFOLD_OBJ) $(MESSAGES_OBJ) $(SUB_OBJ) $(physics) $(BOUNDCOND_OBJ) $(POISSON_OBJ) $(PARTICLES_MAIN_OBJ) $(INTERSTELLAR_OBJ) $(GRID_OBJ) snapshot.o $(FORCING_OBJ) $(SOLID_CELLS_OBJ) $(NSCBC_OBJ) diagnostics.o
#
$(DIAGNOSTICS_OBJ): $(DIAGNOSTICS_SRC) $(CDATA_OBJ) $(MPICOMM_OBJ) $(MESSAGES_OBJ)
#
$(PENCIL_CHECK_OBJ): $(PENCIL_CHECK_SRC) $(EQU_OBJ) $(MPICOMM_OBJ) $(MESSAGES_OBJ) $(GENERAL_OBJ) $(SUB_OBJ)
#
$(BOUNDCOND_OBJ): $(BOUNDCOND_SRC) cdata.o cparam.o $(EOS_OBJ) farray.o $(FOURIER_OBJ) messages.o $(MPICOMM_FIX_OBJ) $(SHEAR_OBJ) $(SPECIAL_OBJ)
#
$(INITCOND_OBJ): initcond.f90 cdata.o $(EOS_OBJ) farray.o $(FOURIER_OBJ) general.o $(GRAVITY_OBJ) messages.o $(MPICOMM_FIX_OBJ) sub.o 
#
$(INITIAL_CONDITION_OBJ): initial_condition.h $(INITIAL_CONDITION_SRC) initial_condition_dummies.inc $(COMMON_DEPS) farray.o general.o $(POISSON_OBJ) $(GRAVITY_OBJ) $(EOS_OBJ) boundcond.o
#
$(TIMESTEP_OBJ): $(TIMESTEP).f90 $(CDATA_OBJ) $(MPICOMM_OBJ) equ.o $(FORCING_OBJ) $(BORDER_PROFILES_OBJ)
#
snapshot.o: snapshot.f90 $(CDATA_OBJ) $(MPICOMM_OBJ) $(MESSAGES_OBJ) $(IO_OBJ) $(BOUNDCOND_OBJ) $(POWER_OBJ) $(STRUCT_FUNC_OBJ) $(RADIATION_OBJ) $(EOS_OBJ) $(MAGNETIC_OBJ) persist.o $(PARTICLES_MAIN_OBJ) $(SHOCK_OBJ)
#
$(MESSAGES_OBJ): messages.f90 $(CDATA_OBJ) $(MPICOMM_OBJ)
#
$(GHOSTFOLD_OBJ): $(GHOSTFOLD_SRC) $(CDATA_OBJ) $(MPICOMM_OBJ) $(MESSAGES_OBJ) $(FOURIER_OBJ)
#
persist.o: persist.f90 $(CDATA_OBJ) $(GENERAL_OBJ) $(MAGNETIC_OBJ) $(HYDRO_OBJ) $(INTERSTELLAR_OBJ) $(FORCING_OBJ)
#
filter.o: filter.f90 $(CDATA_OBJ) $(SUB_OBJ) $(BOUNDCOND_OBJ)
#
# Explicit dependencies for the different physics modules.
#
$(MPICOMM_OBJ): mpicomm.h $(SYSCALLS).o $(MPICOMM_SRC) $(CDATA_OBJ)
#
$(VISCOSITY_OBJ): viscosity.h $(VISCOSITY_SRC) $(CDATA_OBJ) $(CPARAM_OBJ) $(SUB_OBJ) $(INTERSTELLAR_OBJ)
#
$(SHEAR_OBJ): shear.h $(SHEAR_SRC) cdata.o $(DERIV_OBJ) messages.o $(FOURIER_OBJ) $(MPICOMM_FIX_OBJ) sub.o
#
$(GRAVITY_OBJ): gravity.h $(GRAVITY_SRC) $(COMMON_DEPS) $(SHARED_VARIABLES_OBJ)
#
$(SELFGRAVITY_OBJ): selfgravity.h $(SELFGRAVITY_SRC) $(CDATA_OBJ) $(SUB_OBJ) $(POISSON_OBJ) $(PARTICLES_MAIN_OBJ) $(SHARED_VARIABLES_OBJ)
#
$(POISSON_OBJ): poisson.h $(POISSON_SRC) $(CDATA_OBJ) $(FOURIER_OBJ) $(SUB_OBJ)
#
$(FORCING_OBJ): forcing.h $(FORCING_SRC) $(VISCOSITY_OBJ) $(COMMON_DEPS) $(EOS_OBJ) $(GSL_OBJ)
#
$(ENTROPY_OBJ): entropy.h $(ENTROPY_SRC) $(COMMON_DEPS) $(INITCOND_OBJ) $(INITIAL_CONDITION_OBJ) $(FARRAY_OBJ) $(BORDER_PROFILES_OBJ) $(SPECIAL_OBJ) $(EOS_OBJ) $(VISCOSITY_OBJ) $(INTERSTELLAR_OBJ) $(WENO_TRANSPORT_OBJ) ${IMPLICIT_PHYSICS_OBJ}
#
$(MAGNETIC_MEANFIELD_OBJ): ./magnetic/meanfield.h $(MAGNETIC_MEANFIELD_SRC) $(COMMON_DEPS) $(SPECIAL_OBJ)
#
$(DENSITY_OBJ): density.h $(DENSITY_SRC) $(COMMON_DEPS) $(INITCOND_OBJ) $(INITIAL_CONDITION_OBJ) $(FARRAY_OBJ) $(BORDER_PROFILES_OBJ) $(SPECIAL_OBJ) $(GRAVITY_OBJ) $(IO_OBJ) $(EOS_OBJ) $(SELFGRAVITY_OBJ) $(BOUNDCOND_OBJ) $(WENO_TRANSPORT_OBJ)
#
$(HYDRO_OBJ): hydro.h $(HYDRO_SRC) $(COMMON_DEPS) $(INITCOND_OBJ) $(INITIAL_CONDITION_OBJ) $(FARRAY_OBJ) $(BORDER_PROFILES_OBJ) $(VISCOSITY_OBJ) $(SPECIAL_OBJ) $(GRAVITY_OBJ) $(MAGNETIC_OBJ) $(COSMICRAY_OBJ) $(WENO_TRANSPORT_OBJ) $(DENSITY_OBJ)
#
$(RADIATION_OBJ): radiation.h $(RADIATION_SRC) $(COMMON_DEPS) $(INITCOND_OBJ) $(INITIAL_CONDITION_OBJ) $(EOS_OBJ)
#
$(COSMICRAY_OBJ): cosmicray.h $(COSMICRAY_SRC) $(COMMON_DEPS) $(INITCOND_OBJ) $(INITIAL_CONDITION_OBJ)
#
$(COSMICRAYFLUX_OBJ): cosmicrayflux.h $(COSMICRAYFLUX_SRC) $(COMMON_DEPS) $(INITCOND_OBJ) $(COSMICRAY_OBJ) $(SLICES_OBJ) $(INITIAL_CONDITION_OBJ)
#
$(PSCALAR_OBJ): pscalar.h $(PSCALAR_SRC) $(COMMON_DEPS) $(INITCOND_OBJ) $(INITIAL_CONDITION_OBJ) $(SPECIAL_OBJ)
#
$(CHIRAL_OBJ): chiral.h $(CHIRAL_SRC) $(COMMON_DEPS) $(INITCOND_OBJ) $(INITIAL_CONDITION_OBJ) $(FARRAY_OBJ)
#
$(CHEMISTRY_OBJ): chemistry.h $(CHEMISTRY_SRC) $(COMMON_DEPS) $(INITCOND_OBJ) $(INITIAL_CONDITION_OBJ) $(GENERAL_OBJ) $(EOS_OBJ)
#
$(DUSTVELOCITY_OBJ): dustvelocity.h $(DUSTVELOCITY_SRC) $(COMMON_DEPS) $(INITCOND_OBJ) $(INITIAL_CONDITION_OBJ) $(GENERAL_OBJ) $(EOS_OBJ) $(PSCALAR_OBJ) $(GRAVITY_OBJ)
#
$(DUSTDENSITY_OBJ): dustdensity.h $(DUSTDENSITY_SRC) $(COMMON_DEPS) $(INITCOND_OBJ) $(INITIAL_CONDITION_OBJ) $(SHOCK_OBJ) $(DUSTVELOCITY_OBJ) $(SELFGRAVITY_OBJ)
#
$(NEUTRALDENSITY_OBJ): neutraldensity.h $(NEUTRALDENSITY_SRC) $(COMMON_DEPS) $(INITCOND_OBJ) $(INITIAL_CONDITION_OBJ) $(SELFGRAVITY_OBJ)
#
$(NEUTRALVELOCITY_OBJ): neutralvelocity.h $(NEUTRALVELOCITY_SRC) $(COMMON_DEPS) $(INITCOND_OBJ) $(INITIAL_CONDITION_OBJ) $(GENERAL_OBJ) $(GRAVITY_OBJ) $(NEUTRALDENSITY_OBJ)
#
$(TESTPERTURB_OBJ): testperturb.h $(TESTPERTURB_SRC) $(COMMON_DEPS) $(TIMESTEP_OBJ) $(HYDRO_OBJ) equ.o
#
$(TESTSCALAR_OBJ): testscalar.h $(TESTSCALAR_SRC) $(COMMON_DEPS) $(INITCOND_OBJ) $(INITIAL_CONDITION_OBJ) $(IO_OBJ) $(HYDRO_OBJ)
#
$(TESTFIELD_OBJ): testfield.h $(TESTFIELD_SRC) $(COMMON_DEPS) $(INITCOND_OBJ) $(INITIAL_CONDITION_OBJ) $(IO_OBJ) $(HYDRO_OBJ)
#
$(TESTFLOW_OBJ): testflow.h $(TESTFLOW_SRC) $(COMMON_DEPS) $(INITCOND_OBJ) $(INITIAL_CONDITION_OBJ) $(HYDRO_OBJ) $(FARRAY_OBJ) $(FORCING_OBJ)
#
$(INTERSTELLAR_OBJ): interstellar.h $(INTERSTELLAR_SRC) $(COMMON_DEPS) $(EOS_OBJ)
#
$(HYPERVISC_STRICT_OBJ): hypervisc_strict.h $(HYPERVISC_STRICT_SRC) $(CDATA_OBJ) $(CPARAM_OBJ) $(FOURIER_OBJ)
#
$(HYPERRESI_STRICT_OBJ): hyperresi_strict.h $(HYPERRESI_STRICT_SRC) $(CDATA_OBJ) $(CPARAM_OBJ) $(FOURIER_OBJ)
#
$(EOS_OBJ): eos.h $(EOS_SRC) $(COMMON_DEPS) $(FARRAY_OBJ) $(GRAVITY_OBJ) $(FOURIER_OBJ)
#
nofourier.o: $(FOURIER_SRC) fourier.h $(GENERAL_OBJ) $(SUB_OBJ) $(MPICOMM_FIX).o cparam.o cdata.o
#
fourier_fft.o: $(FOURIER_SRC) fft.o fourier.h $(GENERAL_OBJ) $(SUB_OBJ) $(MESSAGES_OBJ) $(MPICOMM_FIX).o cparam.o cdata.o
#
fourier_fftpack.o: $(FOURIER_SRC) fftpack.o fourier.h $(GENERAL_OBJ) $(SUB_OBJ) $(MESSAGES_OBJ) $(MPICOMM_FIX).o cparam.o cdata.o
#
$(IO_OBJ): io.h $(IO_SRC) $(COMMON_DEPS) $(GENERAL_OBJ) $(SUB_OBJ)
#
$(TIMEAVG_OBJ): timeavg.h $(TIMEAVG_SRC) $(COMMON_DEPS) $(IO_OBJ)
#
$(POWER_OBJ): power_spectrum.h $(POWER_SRC) $(COMMON_DEPS) $(GENERAL_OBJ) $(FOURIER_OBJ)
#
$(STRUCT_FUNC_OBJ): struct_func.h $(STRUCT_FUNC_SRC) $(COMMON_DEPS) $(GENERAL_OBJ)
#
$(SPECIAL_OBJ): special.h $(SPECIAL_SRC) special_dummies.inc $(COMMON_DEPS) $(EOS_OBJ) $(INITCOND_OBJ) $(INITIAL_CONDITION_OBJ)
#
$(PARTICLES_CDATA_OBJ): particles_cdata.f90 $(CDATA_OBJ)
#
$(PARTICLES_SUB_OBJ): $(PARTICLES_SUB_SRC) $(PARTICLES_CDATA_OBJ) $(PARTICLES_MPICOMM_OBJ) $(CDATA_OBJ) $(IO_OBJ) $(GHOSTFOLD_OBJ) $(MESSAGES_OBJ) $(SOLID_CELLS_OBJ)
#
$(PARTICLES_MAP_OBJ): particles_map.h $(GHOSTFOLD_OBJ) $(PARTICLES_MAP_SRC) $(PARTICLES_CDATA_OBJ) $(PARTICLES_MPICOMM_OBJ) $(SOLID_CELLS_OBJ) $(CDATA_OBJ) $(MESSAGES_OBJ)
#
$(PARTICLES_MPICOMM_OBJ): particles_mpicomm.h $(PARTICLES_MPICOMM_SRC) $(PARTICLES_CDATA_OBJ) $(IO_OBJ) $(CDATA_OBJ) $(MESSAGES_OBJ)
#
$(PARTICLES_OBJ): particles.h $(PARTICLES_CDATA_OBJ) $(PARTICLES_SUB_OBJ) $(PARTICLES_MAP_OBJ) $(PARTICLES_MPICOMM_OBJ) $(PARTICLES_NUMBER_OBJ) $(PARTICLES_SPIN_OBJ) $(COMMON_DEPS) $(EOS_OBJ) $(POWER_OBJ) $(SOLID_CELLS_OBJ) $(PARTICLES_RADIUS_OBJ)
#
$(PARTICLES_NUMBER_OBJ): particles_number.h $(PARTICLES_CDATA_OBJ) $(PARTICLES_SUB_OBJ)
#
$(PARTICLES_SELFGRAVITY_OBJ): particles_selfgravity.h $(PARTICLES_CDATA_OBJ) $(PARTICLES_SUB_OBJ)
#
particles_nbody.o: particles_nbody.h $(PARTICLES_CDATA_OBJ) $(PARTICLES_SUB_OBJ) $(SPECIAL_OBJ)
noparticles_nbody.o: particles_nbody.h $(MESSAGES_OBJ) $(SUB_OBJ)
#
$(PARTICLES_RADIUS_OBJ): particles_radius.h $(PARTICLES_CDATA_OBJ) $(PARTICLES_NUMBER_OBJ)
#
$(PARTICLES_SPIN_OBJ): particles_spin.h $(VISCOSITY_OBJ) $(PARTICLES_RADIUS_OBJ) $(COMMON_DEPS)
#
$(PARTICLES_VISCOSITY_OBJ): particles_viscosity.h $(PARTICLES_CDATA_OBJ) $(PARTICLES_SUB_OBJ) $(MESSAGES_OBJ) $(FARRAY_OBJ)
#
$(PARTICLES_COLLISIONS_OBJ): particles_collisions.h $(PARTICLES_CDATA_OBJ) $(PARTICLES_MAP_OBJ) $(PARTICLES_SUB_OBJ) $(MESSAGES_OBJ) $(FARRAY_OBJ)
#
$(PARTICLES_STALKER_OBJ): particles_stalker.h $(PARTICLES_CDATA_OBJ) $(PARTICLES_SUB_OBJ) $(MESSAGES_OBJ) $(FARRAY_OBJ) $(BOUNDCOND_OBJ)
#
$(SOLID_CELLS_OBJ): solid_cells.h $(SOLID_CELLS_SRC) $(COMMON_DEPS) $(INITCOND_OBJ) $(INITIAL_CONDITION_OBJ) $(VISCOSITY_OBJ)
#
$(NSCBC_OBJ): NSCBC.h $(NSCBC_SRC) $(COMMON_DEPS) $(VISCOSITY_OBJ) $(CHEMISTRY_OBJ) $(EOS_OBJ)
#
$(WENO_TRANSPORT_OBJ): $(WENO_TRANSPORT_SRC) cparam.o $(CDATA_OBJ)
# DO NOT DELETE
