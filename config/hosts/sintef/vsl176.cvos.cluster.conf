# vsl176.cvos.cluster.conf
#
# Sintef Linux Cluster
#
# $Id$

%include Makefile-common

%section Makefile
#
# Set Fortran compilers
#
  FC  = pgf90
  F77 = $(FC)
#
# Set options for Fortran compiler
#
  FFLAGS_DOUBLE = -r8
  FFLAGS        = -I/cvos/shared/apps/mvapich/pgi/1.2rc2/include/
#
# Linker flags
#
  LD_MPI  = -L/cvos/shared/apps/mvapich/pgi/1.2rc2/lib 
  LD_MPI += -lmpich 
  LD_MPI += -L/cvos/shared/apps/ofed/1.3.1/lib64/ 
  LD_MPI += -libumad 
  LD_MPI += -libverbs 
  LD_MPI += -lrdmacm
#
# Redundant flags
#
  FFLAGS += -Mrecursive 
#  FFLAGS += -fpic 
#  FFLAGS += -mcmodel=medium 
#
# C-compiler
#
  CC       = gcc
  CFLAGS   = -O3 -DFUNDERSC=1
#  CFLAGS   = -O0 -DFUNDERSC=1

%endsection Makefile


%include hosts/sintef/pgf90-optim

%section runtime
  mpiexec    = mpirun_rsh
#  mpirunops2 = -hostfile $PBS_NODEFILE # wd: mpirunops2 is ignored
                                        # wd: should this be in mpiexec_opts?
  mpiexec_opts = 
  extra_opts = -hostfile $PBS_NODEFILE
#  mpiexec = mpiexec
#  mpiexec_opts =                # options before `-n $ncpus'
%endsection runtime


# End of file
